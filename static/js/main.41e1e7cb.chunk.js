(window["webpackJsonp1612199-caro"]=window["webpackJsonp1612199-caro"]||[]).push([[0],{207:function(e,n,t){e.exports=t(368)},212:function(e,n,t){},213:function(e,n,t){},368:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(37),i=t.n(o),l=(t(212),t(213),t(214),t(196)),s=t(43),c=t(44),u=t(45),p=t(48),m=t(50),h=t(376),f=t(377),g=t(374),v=function(e){var n=e.row,t=e.col,r=e.val,o=e.onClick,i=e.winner,l=e.isWinningCell,s=" not-clickable";i||r||(s="");var c=r?" player ".concat(r):"",u=l?" winning-cell":"";return a.a.createElement("button",{type:"button",className:"board-cell".concat(c+s+u),onClick:function(){return o(n,t)}},r)};v.defaultProps={val:null};var w=v,b=function(e){var n=e.board,t=e.size,r=e.onClick,o=e.winner,i=e.points;return a.a.createElement("div",{id:"board"},n.map((function(e,n){return a.a.createElement("div",{key:n,className:"board-row"},e.map((function(e,l){var s=i&&i.some((function(e){return e.row===n&&e.col===l}));return a.a.createElement(w,{key:n*t+l,row:n,col:l,val:e,onClick:r,winner:o,isWinningCell:s})})))})))};b.defaultProps={size:20,numToWin:5};var d=b,k=t(375),E=function(e){var n=e.history,t=e.jumpTo,r=e.toggleSort,o=e.selected,i=e.sort,l=i?"angle down":"angle up";return a.a.createElement(h.a,{className:"history-block"},a.a.createElement(h.a.Content,null,a.a.createElement("div",{className:"box-title"},a.a.createElement("h6",{className:"history-title"},"History"),a.a.createElement(f.a,{size:"mini",icon:l,onClick:r,label:"Order by"})),a.a.createElement(h.a.Description,{className:"history-items"},a.a.createElement(k.a,null,n?(n.sort((function(e,n){return e.id<=n.id===i?-1:1})),n.map((function(e){var n=e.lastPosition,r=e.id,i=r?"Move to #".concat(r,". Position [").concat(n.x,",").concat(n.y,"]"):"Go to game start",l=r===o;return a.a.createElement(k.a.Item,{key:r},a.a.createElement(f.a,{primary:l,size:"small",fluid:!0,onClick:function(){return t(r)}},i))}))):a.a.createElement(a.a.Fragment,null)))))};function y(e){localStorage.removeItem("history"),localStorage.setItem("history",JSON.stringify(e))}function W(){var e=localStorage.getItem("history");return JSON.parse(e)}function N(e){y([{board:new Array(e).fill(null).map((function(){return new Array(e).fill(null)})),lastPosition:null,id:0}])}var C=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(u.a)(this,Object(p.a)(n).call(this))).jumpTo=function(e){var n=W()[e];t.setState({xIsNext:e%2===0,stepNumber:e,winner:n.winner})},t.handleClick=function(e,n){var r=t.props,a=r.X,o=r.O,i=r.DRAW,s=t.state,c=s.winner,u=s.xIsNext,p=s.stepNumber,m=W().slice(0,p+1),h=m[m.length-1].board.map((function(e){return Object(l.a)(e)}));if(!c&&!h[e][n]){h[e][n]=u?a:o;var f=t.isTerminated(h,e,n),g=null;!f.hasWinner&&t.isFull(h)?g=i:f.hasWinner&&(g=h[e][n]),y(m=m.concat([{board:h,lastPosition:{x:e,y:n},id:p+1,winner:g,points:f.points}])),t.setState({xIsNext:!u,stepNumber:m.length-1,winner:g})}},t.resetGame=function(){N(t.props.size),t.setState({xIsNext:!0,winner:null,open:!1,stepNumber:0})},t.toggleConfirm=function(){var e=t.state.open;t.setState({open:!e})},t.checkingHorizontal=function(e,n,r){var a=[],o=t.props,i=o.size,l=o.numToWin,s=!1,c=!1,u=e[n][r],p=1;a.push({row:n,col:r});for(var m=r-1;m>=0;m-=1){if(e[n][m]!==u){null!==e[n][m]&&(s=!0);break}p+=1,a.push({row:n,col:m})}for(var h=r+1;h<i;h+=1){if(e[n][h]!==u){null!==e[n][h]&&(c=!0);break}p+=1,a.push({row:n,col:h})}return p>=l?p>l?{hasWinner:!0,points:a}:{hasWinner:!(s&&c),points:s&&c?[]:a}:{hasWinner:!1,points:[]}},t.checkingVertical=function(e,n,r){var a=[],o=t.props,i=o.size,l=o.numToWin,s=!1,c=!1,u=e[n][r],p=1;a.push({row:n,col:r});for(var m=n-1;m>=0;m-=1){if(e[m][r]!==u){null!==e[m][r]&&(s=!0);break}p+=1,a.push({row:m,col:r})}for(var h=n+1;h<i;h+=1){if(e[h][r]!==u){null!==e[h][r]&&(c=!0);break}p+=1,a.push({row:h,col:r})}return p>=l?p>l?{hasWinner:!0,points:a}:{hasWinner:!(s&&c),points:s&&c?[]:a}:{hasWinner:!1,points:[]}},t.checkingMainDiagonal=function(e,n,r){var a=[],o=t.props,i=o.size,l=o.numToWin,s=!1,c=!1,u=e[n][r],p=1;a.push({row:n,col:r});for(var m=n-1,h=r-1;m>=0&&h>=0;m-=1,h-=1){if(e[m][h]!==u){null!==e[m][h]&&(s=!0);break}p+=1,a.push({row:m,col:h})}for(var f=n+1,g=r+1;f<i&&g<i;f+=1,g+=1){if(e[f][g]!==u){null!==e[f][g]&&(c=!0);break}p+=1,a.push({row:f,col:g})}return p>=l?p>l?{hasWinner:!0,points:a}:{hasWinner:!(s&&c),points:s&&c?[]:a}:{hasWinner:!1,points:[]}},t.checkingSubDiagonal=function(e,n,r){var a=[],o=t.props,i=o.size,l=o.numToWin,s=!1,c=!1,u=e[n][r],p=1;a.push({row:n,col:r});for(var m=n-1,h=r+1;m>=0&&h<i;m-=1,h+=1){if(e[m][h]!==u){null!==e[m][h]&&(s=!0);break}p+=1,a.push({row:m,col:h})}for(var f=n+1,g=r-1;f<i&&g>=0;f+=1,g-=1){if(e[f][g]!==u){null!==e[f][g]&&(c=!0);break}p+=1,a.push({row:f,col:g})}return p>=l?p>l?{hasWinner:!0,points:a}:{hasWinner:!(s&&c),points:s&&c?[]:a}:{hasWinner:!1,points:[]}},t.isTerminated=function(e,n,r){for(var a=t.checkingHorizontal(e,n,r),o=t.checkingVertical(e,n,r),i=t.checkingMainDiagonal(e,n,r),l=t.checkingSubDiagonal(e,n,r),s=a.points.concat(o.points,i.points,l.points),c=0;c<s.length-1;c+=1)for(var u=c+1;u<s.length;u+=1)s[c].row===s[u].row&&s[c].col===s[u].col&&s.splice(c,1);return{hasWinner:a.hasWinner||o.hasWinner||i.hasWinner||l.hasWinner,points:s}},t.isFull=function(e){return e.every((function(e){return e.every((function(e){return e}))}))},t.toggleSort=function(){var e=t.state.sortASC;t.setState({sortASC:!e})},t.state={xIsNext:!0,winner:null,open:!1,stepNumber:0,sortASC:!0},N(e.size),t}return Object(m.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){var e=W(),n=this.state,t=n.xIsNext,r=n.open,o=n.winner,i=n.stepNumber,l=n.sortASC,s=e[i],c=s.board,u=s.points,p=this.props,m=p.X,v=p.O,w=t?m:v;return a.a.createElement("div",{className:"game-wrapper"},a.a.createElement(h.a,{className:"game-info"},a.a.createElement(h.a.Content,null,a.a.createElement(h.a.Header,{as:"h1"},"Caro Vietnam - v2"),a.a.createElement(h.a.Description,null,a.a.createElement("p",null,o?a.a.createElement(a.a.Fragment,null,"Winner: \xa0",a.a.createElement("span",{className:"player".concat(" ".concat(o))},o)):a.a.createElement(a.a.Fragment,null,"Player: \xa0",a.a.createElement("span",{className:"player".concat(" ".concat(w))},w))),a.a.createElement(f.a,{size:"small",onClick:this.toggleConfirm},"Reset game")))),a.a.createElement(d,{points:u,board:c,xIsNext:t,onClick:this.handleClick,winner:o}),a.a.createElement(E,{history:e,sort:l,toggleSort:this.toggleSort,jumpTo:this.jumpTo,selected:i}),a.a.createElement(g.a,{open:r,size:"tiny",header:"Reset game",content:"Do you want to reset this game?",onCancel:this.toggleConfirm,onConfirm:this.resetGame}))}}]),n}(r.Component);C.defaultProps={size:20,numToWin:5,X:"X",O:"O",DRAW:"XO"};var S=C;var x=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(S,null))};i.a.render(a.a.createElement(x,null),document.getElementById("root"))}},[[207,1,2]]]);
//# sourceMappingURL=main.41e1e7cb.chunk.js.map